(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{RXBc:function(e,t,a){"use strict";a.r(t);a("T2oS");var n=a("W9HT"),r=(a("g9YV"),a("wCAj")),o=(a("Znn+"),a("ZTPi")),s=a("q1tI"),i=a.n(s),d=(a("/xke"),a("TeRw")),c=a("PkBI"),l=a.n(c),h=a("3WX/"),u=a.n(h),w=a("J2iB"),m=a.n(w);function g(e){var t="",a=u()(e,m.a);for(var n in a){var r="string"!==typeof a[n]?JSON.stringify(a[n]):a[n];t+="&"+n+"="+r}return t.substr(1)}function p(e){return e.json()}function f(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.status+"  "+e.statusText);throw t.response=e,t}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",n=arguments.length>3?arguments[3]:void 0,r={headers:{},credentials:"include",method:a};return"get"===a.toLowerCase()?e+="?"+g(t):n?(r.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",r.body=JSON.stringify(t)):(r.headers["Content-Type"]="application/json;charset=UTF-8",r.body=JSON.stringify(t)),new Promise((t,a)=>{l()(e,r).then(f).then(p).then(e=>{e?t(e):(d["a"].error({message:"\ud83d\ude2d \u51fa\u9519\u5566\uff0c\u8bf7\u8054\u7cfb\u540e\u7aef\u540c\u5b66",description:"\u9519\u8bef\u4fe1\u606f\uff1a"+e.msg}),a(e))}).catch(e=>{console.dir(e),d["a"].error({message:"\ud83d\ude2d \u51fa\u9519\u5566\uff0c\u8bf7\u8054\u7cfb\u540e\u7aef\u540c\u5b66",description:"\u9519\u8bef\u4fe1\u606f\uff1a"+e.message}),a(e)})})}var I={record:"/tortoise/record",slow:"/tortoise/slow"},y=window.location.href.replace("/index.html#/","");for(var v in I)I[v]=y+I[v];var S=I,T=o["a"].TabPane,b=[{title:"\u8bf7\u6c42\u65b9\u6cd5",dataIndex:"method"},{title:"\u8bf7\u6c42\u5730\u5740",dataIndex:"url"},{title:"\u5e73\u5747\u8017\u65f6(ms)",dataIndex:"averageSpend"},{title:"\u6700\u5927\u8017\u65f6(ms)",dataIndex:"maxSpend"},{title:"\u6700\u5c0f\u8017\u65f6(ms)",dataIndex:"minSpend"},{title:"\u8bf7\u6c42\u91cf",dataIndex:"queryCount"},{title:"500\u9519\u8bef\u91cf",dataIndex:"error5XXCount"},{title:"400\u9519\u8bef\u91cf",dataIndex:"error4XXCount"},{title:"\u6162\u67e5\u8be2\u6570\u91cf",dataIndex:"slowQueryCount"},{title:"\u9519\u8bef\u5360\u6bd4",dataIndex:"errorRate"},{title:"\u6162\u67e5\u8be2\u5360\u6bd4",dataIndex:"slowRate"}],C=[{title:"\u8bf7\u6c42\u65b9\u6cd5",dataIndex:"method"},{title:"\u8bf7\u6c42\u5730\u5740",dataIndex:"url"},{title:"\u67e5\u8be2\u6d88\u8017\u65f6\u95f4(ms)",dataIndex:"spend"},{title:"\u65e5\u671f",dataIndex:"date"}];class D extends s["PureComponent"]{constructor(){super(...arguments),this.state={isLoading:!1,recordData:[],slowData:[]},this.fetchRecord=(()=>{this.setState({isLoading:!0}),x(S.record).then(e=>{this.setState({recordData:e,isLoading:!1})})}),this.fetchSlow=(()=>{this.setState({isLoading:!0}),x(S.slow).then(e=>{this.setState({slowData:e,isLoading:!1})})}),this.changeTab=(e=>{"record"===e?this.fetchRecord():this.fetchSlow()})}componentDidMount(){this.fetchRecord()}render(){var e=this.state,t=e.recordData,a=e.slowData,s=e.isLoading;return i.a.createElement(n["a"],{spinning:s,delay:600},i.a.createElement(o["a"],{defaultActiveKey:"record",onChange:this.changeTab},i.a.createElement(T,{tab:"\u6240\u6709\u63a5\u53e3",key:"record"},i.a.createElement(r["a"],{rowKey:"uuid",columns:b,dataSource:t,size:"small"})),i.a.createElement(T,{tab:"\u6162\u67e5\u8be2",key:"slow"},i.a.createElement(r["a"],{rowKey:"uuid",columns:C,dataSource:a,size:"small"}))))}}t["default"]=D}}]);